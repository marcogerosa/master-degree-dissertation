% -*- root: dissertacao.tex -*-
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\setlength{\parindent}{20pt}
\setlength{\textheight}{22cm}
\setlength{\parskip}{0.2cm}
\linespread{1.2} % Para aumentar o espaçamento entre as linhas
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\chapter{Boas e Más Práticas na Camada de Apresentação}
\label{ch:research}
\label{sc:CodeSmellsDefinition}

Neste capítulo são abordados detalhes dos métodos de pesquisa utilizados para a descoberta dos cheiros de código na camada de apresentação Android.


\section{Introdução}

\textit{God Class}, \textit{Large Class} e \textit{Long Method} são exemplos de cheiros de código de código amplamente reconhecidos por desenvolvedores [REF]. De fato, é possível obter métricas de qualidade de código de projetos Android utilizando estes cheiros de código já catalogados [REF]. No entanto, pesquisas têm demonstrado que existem cheiros de código de código específicos a tecnologias, frameworks e plataformas \cite{FinavaroAniche2016}, desta forma sugerimos que há cheiros de código específicos à camada de apresentação de aplicativos Android. Para iniciar nossas investigações sobre esse tema, fizemos a seguinte pergunta:

\begin{center}
\textbf{Q1: O que desenvolvedores consideram boas e más práticas com relação à Camada de Apresentação em projetos Android?}
\end{center}

cheiros de código de código são padrões de código que estão associados com um design ruim e más práticas de programação \cite{MobileSmells:13}. Por si só, um mau cheiro não é algo ruim, ocorre que frequentemente ele indica um problema mas não necessariamente é o problema em si \cite{CodeSmell:06}. Sendo assim, esta questão visa identificar quais práticas desenvolvedores Android reconhecem como sendo más práticas, e possivelmente cheiros de código, e quais práticas os desenvolvedores reconhecem como boas práticas, e possivelmente formas de refatorar o que foi considerado um mau cheiro.

Neste Capítulo apresentamos um catálogo de cheiros de código na camada de apresentação de projetos Android. Para derivar esse catálogo aplicamos um questionário respondido por 45 desenvolvedores Android e pretendemos entrevistar outros desenvolvedores sobre boas e más práticas seguidas durante o desenvolvimento de aplicativos Android. Também iremos coletar postagens relacionadas a boas e más práticas em sites sobre Android. Após, iremos realizar um procedimento de código aberto a partir das respostas e postagens obtidas. 

Por fim, pretendemos validar os cheiros de código derivados com 2 desenvolvedores especialistas em Android. 

\section{Método}

Nós coletamos boas e más práticas na camada de apresentação seguidas por desenvolvedores durante o desenvolvimento de aplicativos Android. A coleta de dados inclui três diferentes passos, são eles:

\textbf{Passo 1: Questionário Online.} Elaboramos um questionário em inglês com perguntas dissertativas. O questionário foi divulgado em comunidades de desenvolvedores Android do Brasil e exterior e em redes sociais como LinkedIn, Google Plus, Facebook e Twitter. De modo a obtermos alguma análise demográfica, as primeiras questões são sobre idade e país de residência.

Em seguida, perguntamos sobre boas e más práticas. Para cada elemento da camada de apresentação fizemos o seguinte par de perguntas, onde ``X'' indica o elemento da camada de apresentação em questão: 

\begin{itemize}
	\item Do you have any good practices to deal with X? (Você conhece algumas boas práticas para lidar com X?)
	\item Do you have anything you consider a bad practice when dealing whit X? (Você considera algo uma má prática para lidar com X?)
\end{itemize}

Os elementos questionados foram definidos no Capítulo \ref{ch:PresentationLayer}, são eles: \textsc{Activities}, \textsc{Fragments}, \textsc{Adapter}, \textsc{Listeners}, \textsc{layouts}, \textsc{styles}, \textsc{string} e \textsc{drawables}. Os 4 últimos representam os 4 principais recursos de aplicativos Android. Optamos por não questionar todos os tipos de recursos individualmente para não tornar o questionário muito extenso. 

Por último, com o objetivo de capturar alguma outra boa ou má prática em qualquer outro elemento da camada de apresentação, adicionamos as seguintes perguntas:

\begin{itemize}
	\item Are there any other *GOOD* practices in Android Presentation Layer we did not asked you or you did not said yet? (Existe alguma outra *BOA* prática na camada de apresentação que nós não perguntamos a você ou que você ainda não mencionou?)
	\item Are there any other *BAD* practices in Android Presentation Layer we did not asked you or you did not said yet? (Existe alguma outra *MÁ* prática na camada de apresentação que nós não perguntamos a você ou que você ainda não mencionou?)
\end{itemize}

O questionário completo pode ser encontrado no apêndice 1. \\ 

\textbf{Passo 2: Entrevistas Semi-Extruturadas.} Realizaremos entrevistas semi-estruturadas com desenvolvedores Android. O objetivo da entrevista é fazer com que os desenvolvedores discutam sobre boas e más práticas na camada de apresentação Android usadas no dia-a-dia de desenvolvimento. Essas discussões serão focadas nos 8 elementos da camada de apresentação questionados no passo anterior. \\ 

\textbf{Passo 3: Pesquisa Bibliográfica em Sites Técnicos.} Realizaremos uma busca na internet por postagens técnicas sobre Android que apontem alguma boa ou má prática em algum dos elementos da camada de apresentação pesquisados nos passos anteriores. \\ 

De modo a complementar os dados para análise demográfica, tanto no questionário quanto na entrevista fizemos perguntas sobre a experiência com desenvolvimento de software, experiência com desenvolvimento de aplicativos Android nativos e quais linguagens de programação se consideravam proficientes.


\section[Catálogo Resultante dos Cheiros de Código]{Q1: Catálogo Resultante dos Cheiros de Código da Camada de Apresentação Android} 



\chapter{Impacto na Tendência a Mudanças e Defeitos}
\label{sc:ChangeProneness}

\section{Introdução}
Evidencias na literatura sugerem que cheiros de código de código podem esconder manutenibilidade de código e aumentar a tendência a mudanças e introdução de defeitos. Neste capítulo pretendemos avaliar o impacto dos cheiros de código propostos na tendência a mudanças e introdução de defeitos no código. Para isso conduziremos um experimento presencial com desenvolvedores Android.

\section{Método}
Pretende-se conduzir um experimento apresentando aos desenvolvedores um projeto Android onde alguns deles receberão este projeto com os cheiros de código e outros o receberam com o código já refatorado. 

Será solicitado a todos que implementem uma mesma funcionalidade, esta do qual, necessitará alterar arquivos da camada de apresentação. Com este experimento pretendemos validar o impacto que os cheiros de código propostos tem na tendência a alteração de código e a introdução de defeitos.


\section{Q2: Qual o impacto dos cheiros de código propostos na tendência a mudanças e defeitos?}

\chapter{Percepção dos Desenvolvedores}
\label{sc:DevPerceptions}

\section{Introdução}
Após a definição de um catálogo de cheiros de código, pretende-se validar se desenvolvedores os percebem de fato como indicativos de trechos de códigos ruins. Para isso pretende-se conduzir um experimento apresentando aos desenvolvedores códigos com e sem os cheiros de código propostos, para cada código, será solicitado que ele indique o código como ``com cheiro'' ou ``sem cheiro''. 

\section{Método}

\section{Q3: Os Desenvolvedores percebem os códigos afetados pelos cheiros de código propostos como problemáticos?}
