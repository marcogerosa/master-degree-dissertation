% -*- root: dissertacao.tex -*-
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\setlength{\parindent}{20pt}
\setlength{\textheight}{22cm}
\setlength{\parskip}{0.2cm}
\linespread{1.2} % Para aumentar o espaçamento entre as linhas
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\chapter{Método de Pesquisa}
\label{ch:research}

% \section{Camada de Apresentação Android}
% \label{sc:PresentationLayer}

% Nesta seção apresentamos quais são os elementos que compõem a camada de apresentação do Android. Também são apresentados os argumentos pelo qual chegamos nestes elementos.

% \subsection{Elementos da Camada de Apresentação}

% Segundo a documentação do Android ``uma \textit{activity} é um componente de aplicação que representa uma tela com interface para o usuário onde o mesmo pode interagir para executar ações'' \cite{AndroidFundamentals}. Estas interações podem ser capturadas através da implementação de \textit{listeners}. Por se relacionar diretamente com o que é visto pelo usuário e pela forma de responder a ações do mesmo, tanto a \texttt{Activity} quanto os \textit{listeners}, foram considerados como parte da camada de apresentação.

% Ainda segundo a documentação, ``recursos são imagens, arquivos de áudio, e \textbf{qualquer coisa relacionada a apresentação visual do aplicativo}'' (tradução livre). Apesar de ser possível criar estes mesmos elementos a partir de código Java, recomenda-se o uso de recursos, conforme explicado na seção \ref{sec:Android}. Por se relacionar diretamente com informações vistas pelo usuário, todo tipo de recurso, estando localizado no diretório \texttt{res} ou no seu formato Java, foi considerado como parte da camada de apresentação.

% Um arquivo de \textit{layouts} é o tipo de recurso usado para a criação de interfaces com o usuário conforme detalhada na seção \ref{sec:Android}. E conforme visto, para apresentar coleção de dados não pré-determinados ou dinâmicas, utiliza-se uma \textit{view} que herde de \texttt{AdapterView} de forma a poder usar classes filhas de \texttt{Adapter} para realizar o carregamento de cada item da coleção, na \textit{view}. Desta forma, por \textit{adapters} fazerem o trabalho de colocar informações na tela, foi considerado também como elemento parte da camada de apresentação.



\section{Definição dos Maus Cheiros}
\label{sc:CodeSmellsDefinition}

Para a definição dos maus cheiros será realizada uma pesquisa descritiva \cite{ElaboracaoPesquisa} de forma a obter boas e más práticas utilizadas ou evitadas, respectivamente, por desenvolvedores no dia-a-dia do desenvolvimento de aplicativos Android. 

A seguir são detalhadas a forma de coleta de dados, critério de seleção dos respondendes, análise e validação dos dados.

\subsection{Coleta de Dados}

Pretende-se coletar, através de um questionário, boas e más práticas utilizadas ou percebidas por desenvolvedores Android. Para cada elemento da camada de apresentação, serão feitas as seguintes perguntas (``X'' indica o elemento em pauta na questão):
\begin{itemize}
	\item Você conhece ou utiliza alguma boa prática para lidar com X?
	\item Você considera algo uma má prática para lidar com X?
\end{itemize}

Ainda, ao final são inseridas as seguintes perguntas abertas de forma a capturar algum último pensamento sobre boas e más práticas com relação a camada de apresentação.

\begin{itemize}
	\item Existe alguma outra *BOA* prática na camada de apresentação que nós não perguntamos a você ou que você ainda não mencionou?
	\item Existe alguma outra *MÁ* prática na camada de apresentação que nós não perguntamos a você ou que você ainda não mencionou?
\end{itemize}

Este questionário será aberto para a comunidade de desenvolvimento Android do Brasil e exterior. Para tanto, será elaborado versões em inglês e português do questionário.

\subsection{Análise dos Dados}
Os dados serão analisados manualmente e categorizados. O objetivo é identificar maus cheiros e possíveis soluções. 

\subsection{Validação com Especialistas}
Os maus cheiros definidos no passo anterior serão validades com desenvolvedores Android especialistas através de uma entrevista conduzida. A fim de ter um controle maior com relação a credibilidade de conhecimento, estes especialistas serão pessoas que são referência na comunidade Android, já escreveram livros sobre o tema ou que trabalhem com Android no Google.

% \subsection{Conclusão}


\section{Percepção dos Desenvolvedores}
\label{sc:DevPerceptions}

\subsection{Coleta de Dados}
Após a definição de um catálogo de maus cheiros, pretende-se validar se desenvolvedores os percebem de fato como indicativos de trechos de códigos ruins. Para isso pretende-se conduzir um experimento apresentando aos desenvolvedores códigos com e sem os maus cheios propostos, para cada código, será solicitado que ele indique o código como bom ou ruim. 

% Outro experimento a ser conduzido é com relação a propensão de mudanças e defeitos que códigos com maus cheiros tendem a causar. Para isso pretende-se conduzir um experimento apresentando aos desenvolvedores um projeto Android onde alguns deles receberão este projeto com os maus cheiros e outros o receberam com o código já refatorado. Será solicitado a todos que implementem uma mesma funcionalidade, esta do qual, necessitará alterar arquivos da camada de apresentação. Com este experimento pretendemos validar a percepção de desenvolvedores com relação a propensão a alteração de código e propensão a defeitos que os códigos com maus cheiros causam.


\subsection{Análise dos Dados}

% \subsection{Conclusão}


\section{Impacto na Tendência a Mudanças}
\label{sc:ChangeProneness}

