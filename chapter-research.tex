% -*- root: dissertacao.tex -*-
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\setlength{\parindent}{20pt}
\setlength{\textheight}{22cm}
\setlength{\parskip}{0.2cm}
\linespread{1.2} % Para aumentar o espaçamento entre as linhas
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\chapter{Boas e Más Práticas na Camada de Apresentação}
\label{ch:research}
\label{sc:CodeSmellsDefinition}

A seguir abordamos em detalhes quais foram os experimentos realizados ou planejados e os motivos considerados para a escolha deles, bem como é indicado qual questão de pesquisa determinado método ajuda a responder.


\section{Introdução}
Apesar de já existirem diversos maus cheiros conhecidos catalogados, pesquisas vem demonstrado que existem maus cheiros de código específicos a tecnologias, frameworks e plataformas, desta forma sugerimos que há maus cheiros específicos à camada de apresentação de aplicativos Android. Desta forma, perguntamos:


\section{Método}
Para prosseguimento do trabalho é de extrema importância responder a Q1. Para isso elaboramos um questionário com perguntas dissertativas de forma a coletar informações sobre boas e más práticas na camada de apresentação de aplicativos Android. O questionário foi elaborado em inglês com o objetivo de abrangir Brasil e exterior, no entanto, na apresentação do questionário, que é a primeira parte apresentada quando o respondente o abre, para eliminar possíveis barreiras de idioma, deixamos claro que as respostas poderiam ser em português ou inglês.

Este questionário foi disponibilizado em grupos de discuções sobre Android, em redes sociais como Facebook, Twiiter, LinkedIn e Google Plus, permitindo que qualquer pessoa o compartilhasse em suas próprias redes de contatos. Com o objetivo de avaliar a qualidade das resposta, as primeiras questões do questionário foram para mapeamento do grau de experiência com desenvolvimento de software em geral e com desenvolvimento Android. Haviam também perguntas de geolocalização para possibilitar avaliar a abrangência e diversidade dos resultados. Pretende-se deixar o questionário aberto ao público até que seja necessário consolidar as informações para o passo de validação dos maus cheiros definidos com o objetivo de coletar o máximo de respostas possíveis.

A seguir incluímos as perguntas sobre boas e más práticas na camada de apresentação. Para cada item definido no capítulo \ref{ch:PresentationLayer} foi adicionado o seguinte par de perguntas (``X'' indica o elemento da camada de apresentação em pauta, podendo ser \texttt{Activities}, \texttt{Fragments}, \texttt{Adapter} e \texttt{Listeners}):
\begin{itemize}
	\item Do you have any good practices to deal with X? (Você conhece algumas boas práticas para lidar com X?)
	\item Do you have anything you consider a bad practice when dealing whit X? (Você considera algo uma má prática para lidar com X?)
\end{itemize}

Como os recursos do aplicativo envolvem um conjunto muito grande de arquivos, optou-se por quebrar e fazer as questões acima individualmente para alguns tipos de recursos específicos, os que consideramos de maior relevância em projetos Android. Foram eles: \textit{layouts}, \textit{styles}, \textit{string} e \textit{drawables}. 

Por último, com o objetivo de capturar alguma outra boa ou má prática em qualquer outro elemento da camada de apresentação, adicionamos as seguintes perguntas:

\begin{itemize}
	\item Are there any other *GOOD* practices in Android Presentation Layer we did not asked you or you did not said yet? (Existe alguma outra *BOA* prática na camada de apresentação que nós não perguntamos a você ou que você ainda não mencionou?)
	\item Are there any other *BAD* practices in Android Presentation Layer we did not asked you or you did not said yet? (Existe alguma outra *MÁ* prática na camada de apresentação que nós não perguntamos a você ou que você ainda não mencionou?)
\end{itemize}

De forma a coletar o máximo possível de informações sobre boas e más práticas na camada de apresentação Android, pretende-se coletar informações também em postagens técnicas sobre Android em sites. Conforme bem pontuado por FULANO, existem informações de boas e más práticas atualmente, porém estas estão espalhadas na internet.

% Para cada papel da camada de apresentação, fizemos as seguintes questões (``X'' representa o papel em questão):

% \begin{itemize}
% 	\item Você conhece ou utiliza alguma boa prática para lidar com X?
% 	\item Você considera algo uma má prática ao lidar com X?
% \end{itemize}

% Por exemplo, \textsc{Activities} representam um papel na camanda de apresentação, as perguntas acima ficariam da seguinte forma:

% \begin{itemize}
% 	\item Você conhece ou utiliza alguma boa prática para lidar com \textsc{Activities}?
% 	\item Você considera algo uma má prática ao lidar com \textsc{Activities}?
% \end{itemize}

% Por fim, para coletar qualquer outra informação relevante que o respondente queira compartilhar, temos a seguinte pergunta:
% \begin{itemize}
% 	\item Gostaria de compartilhar mais alguma informação, comentário ou sugestão?
% \end{itemize}

De posse dos dados resultantes do questionário e a coletânea de postagens realizaremos uma análise manual em busca de indicativos de maus cheiros e como os desenvolvedores os resolveram. O objetivo da análise será um catálogo de maus cheiros para a camada de apresentação de aplicativos Android.

De forma a validar a coerência dos maus cheiros encontrados, pretende-se realizar uma entrevista com desenvolvedores Android especialistas. A entrevista será realizada com todos os especialistas de uma única vez de forma a motivar discuções entre eles. COLOCAR MAIS DETALHES DE COMO IRÁ CONDUZIR ISSO.

A fim de ter controle com relação a credibilidade de conhecimento dos especialistas, serão convidados desenvolvedores Android referência na comunidade, que possuam algum livro sobre Android publicado ou que trabalhem com Android no Google.

\section{Q1: Catálogo de Maus Cheiros da Camada de Apresentação Android} 



\chapter{Impacto na Tendência a Mudanças e Defeitos}
\label{sc:ChangeProneness}

\section{Introdução}
Outro experimento a ser conduzido é com relação a propensão de mudanças e defeitos que códigos com maus cheiros tendem a causar. Para isso pretende-se conduzir um experimento apresentando aos desenvolvedores um projeto Android onde alguns deles receberão este projeto com os maus cheiros e outros o receberam com o código já refatorado. Será solicitado a todos que implementem uma mesma funcionalidade, esta do qual, necessitará alterar arquivos da camada de apresentação. Com este experimento pretendemos validar a percepção de desenvolvedores com relação a propensão a alteração de código e propensão a defeitos que os códigos com maus cheiros causam.

\section{Método}

\section{Q2: Qual o impacto dos maus cheiros propostos na tendência a mudanças e defeitos?}

\chapter{Percepção dos Desenvolvedores}
\label{sc:DevPerceptions}

\section{Introdução}
Após a definição de um catálogo de maus cheiros, pretende-se validar se desenvolvedores os percebem de fato como indicativos de trechos de códigos ruins. Para isso pretende-se conduzir um experimento apresentando aos desenvolvedores códigos com e sem os maus cheios propostos, para cada código, será solicitado que ele indique o código como bom ou ruim. 

\section{Método}

\section{Q3: Os Desenvolvedores percebem os códigos afetados pelos maus cheiros propostos como problemáticos?}
