\documentclass[12pt,a4paper,oneside]{book} 
% \documentclass[11pt,twoside,a4paper]{book}

% ---------------------------------------------------------------------------- %
% Pacotes 
\usepackage[T1]{fontenc}
\usepackage[brazil]{babel}
\usepackage[latin1]{inputenc}
\usepackage[pdftex]{graphicx}           % usamos arquivos pdf/png como figuras
\usepackage{setspace}                   % espaçamento flexível
\usepackage{indentfirst}                % indentação do primeiro parágrafo
\usepackage{makeidx}                    % índice remissivo
\usepackage[nottoc]{tocbibind}          % acrescentamos a bibliografia/indice/conteudo no Table of Contents
\usepackage{courier}                    % usa o Adobe Courier no lugar de Computer Modern Typewriter
\usepackage{type1cm}                    % fontes realmente escaláveis
\usepackage{listings}                   % para formatar código-fonte (ex. em Java)
\usepackage{titletoc}
%\usepackage[bf,small,compact]{titlesec} % cabeçalhos dos títulos: menores e compactos
\usepackage[fixlanguage]{babelbib}
\usepackage[font=small,format=plain,labelfont=bf,up,textfont=it,up]{caption}
\usepackage[usenames,svgnames,dvipsnames]{xcolor}
\usepackage[a4paper,top=2.54cm,bottom=2.0cm,left=2.0cm,right=2.54cm]{geometry} % margens
%\usepackage[pdftex,plainpages=false,pdfpagelabels,pagebackref,colorlinks=true,citecolor=black,linkcolor=black,urlcolor=black,filecolor=black,bookmarksopen=true]{hyperref} % links em preto
\usepackage[pdftex,plainpages=false,pdfpagelabels,pagebackref,colorlinks=true,citecolor=DarkGreen,linkcolor=NavyBlue,urlcolor=DarkRed,filecolor=green,bookmarksopen=true]{hyperref} % links coloridos
\usepackage[all]{hypcap}                    % soluciona o problema com o hyperref e capitulos

\usepackage[autostyle]{csquotes}  

% \usepackage[round,sort,nonamebreak]{natbib} % citação bibliográfica textual(plainnat-ime.bst)

\usepackage{mdframed}
% Barra lateral a citação direta
\newmdenv[
  leftmargin        = 1.5em,
  innerleftmargin   = 1em,
  innertopmargin    = 0pt,
  innerbottommargin = 0pt,
  innerrightmargin  = 0pt,
  rightmargin       = 0pt,
  linewidth         = 2pt,
  topline           = false,
  rightline         = false,
  bottomline        = false
]{leftbar}

\definecolor{lightgray}{gray}{0.97}

% Quadrado
\newmdenv[
  innerleftmargin   = 1em,
  innertopmargin    = 1em,
  innerbottommargin = 1em,
  innerrightmargin  = 1em,
  linecolor         = gray,
  backgroundcolor   = lightgray,
  rightmargin       = 0pt,
  linewidth         = 0.5pt
]{square}

\setlength{\parskip}{.5em}
\usepackage{acronym} 

\fontsize{60}{62}\usefont{OT1}{cmr}{m}{n}{\selectfont}

% ---------------------------------------------------------------------------- %
% Cabeçalhos similares ao TAOCP de Donald E. Knuth
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\renewcommand{\chaptermark}[1]{\markboth{\MakeUppercase{#1}}{}}
\renewcommand{\sectionmark}[1]{\markright{\MakeUppercase{#1}}{}}
\renewcommand{\headrulewidth}{0pt}

\usepackage{longtable}
% ---------------------------------------------------------------------------- %
\graphicspath{{./figures/}}             % caminho das figuras (recomendável)
\frenchspacing                          % arruma o espaço: id est (i.e.) e exempli gratia (e.g.) 
\urlstyle{same}                         % URL com o mesmo estilo do texto e não mono-spaced
\makeindex                              % para o índice remissivo
\raggedbottom                           % para não permitir espaços extra no texto
\fontsize{60}{62}\usefont{OT1}{cmr}{m}{n}{\selectfont}
\cleardoublepage
\normalsize

% ---------------------------------------------------------------------------- %
% Opções de listing usados para o código fonte
% Ref: http://en.wikibooks.org/wiki/LaTeX/Packages/Listings
\lstset{ %
    language=Java,                  % choose the language of the code
    basicstyle=\footnotesize,       % the size of the fonts that are used for the code
    numbers=left,                   % where to put the line-numbers
    numberstyle=\footnotesize,      % the size of the fonts that are used for the line-numbers
    stepnumber=1,                   % the step between two line-numbers. If it's 1 each line will be numbered
    numbersep=5pt,                  % how far the line-numbers are from the code
    showspaces=false,               % show spaces adding particular underscores
    showstringspaces=false,         % underline spaces within strings
    showtabs=false,                 % show tabs within strings adding particular underscores
    frame=single,	                % adds a frame around the code
    framerule=0.6pt,
    tabsize=2,	                    % sets default tabsize to 2 spaces
    captionpos=b,                   % sets the caption-position to bottom
    breaklines=true,                % sets automatic line breaking
    breakatwhitespace=false,        % sets if automatic breaks should only happen at whitespace
    escapeinside={\%*}{*)},         % if you want to add a comment within your code
    backgroundcolor=\color[rgb]{1.0,1.0,1.0}, % choose the background color.
    rulecolor=\color[rgb]{0.8,0.8,0.8},
    extendedchars=true,
    xleftmargin=10pt,
    xrightmargin=10pt,
    framexleftmargin=10pt,
    framexrightmargin=10pt
}

\usepackage{etex}
\usepackage{flushend}

\usepackage{booktabs} % For formal tables
\usepackage{multirow}

\usepackage{tikz} \usetikzlibrary{calc,plotmarks}  
\usepackage{pgfplots}
\usepackage{graphicx}
\usepackage{subcaption}

\usepackage{epigraph}

% \epigraphsize{\small}% Default
\setlength\epigraphwidth{8cm}
\setlength\epigraphrule{0pt}

\renewcommand{\lstlistingname}{Código-Fonte}
\renewcommand{\tablename}{Tabela}
\renewcommand{\figurename}{Figura}

\newcommand{\remark}[2]{{\small\textsl{\textbf{#1: #2}}}}
\newcommand{\mau}[1]{\remark{Maurício:}{\textcolor{red}{#1}}} 
\newcommand{\todo}[1]{\remark{todo}{\textcolor{red}{#1}}} 

\renewcommand{\arraystretch}{1.2}

\usepackage{etoolbox}
\AtBeginEnvironment{quote}{\singlespace\vspace{-\topsep}\small}
\AtEndEnvironment{quote}{\vspace{-\topsep}\endsinglespace}

% ---------------------------------------------------------------------------- %
% Corpo do texto
\begin{document}

\frontmatter 
% cabeçalho para as páginas das seções anteriores ao capítulo 1 (frontmatter)
\fancyhead[RO]{{\footnotesize\rightmark}\hspace{2em}\thepage}
\setcounter{tocdepth}{2}
\fancyhead[LE]{\thepage\hspace{2em}\footnotesize{\leftmark}}
\fancyhead[RE,LO]{}
\fancyhead[RO]{{\footnotesize\rightmark}\hspace{2em}\thepage}

\onehalfspacing  % espaçamento

% ---------------------------------------------------------------------------- %
% CAPA
% Nota: O título para as dissertações/teses do IME-USP devem caber em um 
% orifício de 10,7cm de largura x 6,0cm de altura que há na capa fornecida pela SPG.
\thispagestyle{empty}
\begin{center}
    \vspace*{2.3cm}
    \textbf{\Large{Maus cheiros de código em aplicativos Android: \\
    Um estudo sobre a percepção dos desenvolvedores}}\\
    
    \vspace*{1.2cm}
    \Large{Suelen Goularte Carvalho}
    
    \vskip 2cm
    \textsc{
    Dissertação apresentada\\[-0.25cm] 
    ao\\[-0.25cm]
    Instituto de Matemática e Estatística\\[-0.25cm]
    da\\[-0.25cm]
    Universidade de São Paulo\\[-0.25cm]
    para\\[-0.25cm]
    obtenção do título\\[-0.25cm]
    de\\[-0.25cm]
    Mestre em Ciências}
    
    \vskip 1.5cm
    Programa: Ciência da Computação\\
    Orientador: Prof. Dr. Marco Aurélio Gerosa\\
    Coorientador: Prof. Dr. Maurício Aniche

   	\vskip 3cm
    % \normalsize{Durante o desenvolvimento deste trabalho o autor recebeu auxílio
    % financeiro da CAPES/CNPq/FAPESP}
    
    \vskip 0.5cm
    \normalsize{São Paulo, 13 Dezembro de 2017}
\end{center}

% ---------------------------------------------------------------------------- %
% Página de rosto (SÓ PARA A VERSÃO DEPOSITADA - ANTES DA DEFESA)
% Resolução CoPGr 5890 (20/12/2010)
%
% IMPORTANTE:
%   Coloque um '%' em todas as linhas
%   desta página antes de compilar a versão
%   final, corrigida, do trabalho
%
%
\newpage
\thispagestyle{empty}
    \begin{center}
        \vspace*{2.3 cm}
        \textbf{\Large{Maus cheiros de código em aplicativos Android: \\
            Um estudo sobre a percepção dos desenvolvedores}}\\
        \vspace*{2 cm}
    \end{center}

    \vskip 2cm

    \begin{flushright}
	Esta é a versão original da dissertação elaborada pelo\\
	candidato (Suelen Goularte Carvalho), tal como \\
	submetida à Comissão Julgadora.
    \end{flushright}

\pagebreak


% ---------------------------------------------------------------------------- %
% Página de rosto (SÓ PARA A VERSÃO CORRIGIDA - APÓS DEFESA)
% Resolução CoPGr 5890 (20/12/2010)
%
% Nota: O título para as dissertações/teses do IME-USP devem caber em um 
% orifício de 10,7cm de largura x 6,0cm de altura que há na capa fornecida pela SPG.
%
% IMPORTANTE:
%   Coloque um '%' em todas as linhas desta
%   página antes de compilar a versão do trabalho que será entregue
%   à Comissão Julgadora antes da defesa
%
%

% APÓS A DEFESA DESCOMENTAR
% \newpage
% \thispagestyle{empty}
%     \begin{center}
%         \vspace*{2.3 cm}
%         \textbf{\Large{Título do trabalho a ser apresentado à \\
%         CPG para a dissertação/tese}}\\
%         \vspace*{2 cm}
%     \end{center}

%     \vskip 2cm

%     \begin{flushright}
% 	Esta versão da dissertação/tese contém as correções e alterações sugeridas\\
% 	pela Comissão Julgadora durante a defesa da versão original do trabalho,\\
% 	realizada em 14/12/2010. Uma cópia da versão original está disponível no\\
% 	Instituto de Matemática e Estatística da Universidade de São Paulo.

%     \vskip 2cm

%     \end{flushright}
%     \vskip 4.2cm

%     \begin{quote}
%     \noindent Comissão Julgadora:
    
%     \begin{itemize}
% 		\item Profª. Drª. Nome Completo (orientadora) - IME-USP [sem ponto final]
% 		\item Prof. Dr. Nome Completo - IME-USP [sem ponto final]
% 		\item Prof. Dr. Nome Completo - IMPA [sem ponto final]
%     \end{itemize}
      
%     \end{quote}
% \pagebreak


\pagenumbering{roman}     % começamos a numerar 

% ---------------------------------------------------------------------------- %
% Agradecimentos:
% Se o candidato não quer fazer agradecimentos, deve simplesmente eliminar esta página 
\chapter*{Agradecimentos}
\input{chapters/acknowledgement}

% ---------------------------------------------------------------------------- %
% Resumo
\chapter*{Resumo}
% \include{abstract} % quebra página
\input{chapters/abstract} % não quebra página

% \noindent SOBRENOME, A. B. C. \textbf{Título do trabalho em português}. 
% 2010. 120 f.
% Tese (Doutorado) - Instituto de Matemática e Estatística,
% Universidade de São Paulo, São Paulo, 2010.
% \\

% Elemento obrigatório, constituído de uma sequência de frases concisas e
% objetivas, em forma de texto.  Deve apresentar os objetivos, métodos empregados,
% resultados e conclusões.  O resumo deve ser redigido em parágrafo único, conter
% no máximo 500 palavras e ser seguido dos termos representativos do conteúdo do
% trabalho (palavras-chave). 
% Texto texto texto texto texto texto texto texto texto texto texto texto texto

% ---------------------------------------------------------------------------- %
% Abstract
\chapter*{Abstract}
\input{chapters/abstract}

% \noindent SOBRENOME, A. B. C. \textbf{Título do trabalho em inglês}. 
% 2010. 120 f.
% Tese (Doutorado) - Instituto de Matemática e Estatística,
% Universidade de São Paulo, São Paulo, 2010.
% \\

% Elemento obrigatório, elaborado com as mesmas características do resumo em
% língua portuguesa. De acordo com o Regimento da Pós- Graduação da USP (Artigo
% 99), deve ser redigido em inglês para fins de divulgação. 
% Text text text text text text text text text text text text text text text text


\tableofcontents    % imprime o sumário

\chapter*{Acrônimos}
\include{chapters/acronyms}

\chapter{Lista de Abreviaturas}
\include{chapters/abbreviations}

% \chapter{Lista de Símbolos}
% \include{symbols}

% \chapter{Lista de Símbolos}
% \include{symbols}


\listoffigures % Listas de figuras
\listoftables % Listas de tabelas


\mainmatter

\fancyhead[RE,LO]{\thesection} % cabeçalho para as páginas de todos os capítulos

% \singlespacing              % espaçamento simples
\onehalfspacing            % espaçamento um e meio

\include{chapters/chapter-main}

% Apêndice
\renewcommand{\chaptermark}[1]{\markboth{\MakeUppercase{\appendixname\ \thechapter}} {\MakeUppercase{#1}}} % cabeçalho para os apêndices
\fancyhead[RE,LO]{}

\appendix
\include{appendix/survey-good-bad-practices}
\include{appendix/smells-good-bad-sample-phrases}


% Bibliografia
\backmatter \singlespacing   % espaçamento simples

% \bibliographystyle{plainnat-ime}  % Chin et al. (2011)
\bibliographystyle{plain}         % [1], [2]
% \bibliographystyle{alpha}           % [Adams93], precisa q tudo tenha o ano
\bibliography{bib/android,bib/android-libs,bib/android-smells,bib/android-marketshare,bib/android-practices-posts,bib/android-researches,bib/aniche,bib/books,bib/mobile,bib/others,bib/qualitative-research,bib/related-work,bib/research,bib/smell-posts,bib/smell-researches,bib/ui}

% ---------------------------------------------------------------------------- %
% Índice remissivo
% \index{TBP|see{periodicidade região codificante}}
% \index{DSP|see{processamento digital de sinais}}
% \index{STFT|see{transformada de Fourier de tempo reduzido}}
% \index{DFT|see{transformada discreta de Fourier}}
% \index{Fourier!transformada|see{transformada de Fourier}}

% \printindex   % imprime o índice remissivo no documento 

\end{document}
